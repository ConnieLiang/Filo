<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Onboarding - Raw (No User Data)</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      /* Colors */
      --filo-01: #1F9EFA;
      --filo-02: #22A0FB;
      --filo-05: #E8EEF2;
      --filo-06: #000000;
      --filo-07: #707070;
      --filo-08: #D5D5D5;
      --filo-09: #F5F5F5;
      --filo-10: #FFFFFF;
      --filo-11: #EF4A68;
      --filo-14: rgba(0, 0, 0, 0.04);
      --filo-18: #7EBA02;
      --filo-25: #9E9E9E;
      --bg: #F5F5F5;

      /* Typography Tokens */
      --H2-size: 32px;  --H2-weight: 700;  --H2-lh: 1.3;  --H2-ls: 0.2px;
      --H3-size: 28px;  --H3-weight: 700;  --H3-lh: 1.3;  --H3-ls: 0.1px;
      --H5-size: 22px;  --H5-weight: 700;  --H5-lh: 1.2;  --H5-ls: 0px;
      --P2_M-size: 16px;  --P2_M-weight: 510;  --P2_M-lh: 1.3;  --P2_M-ls: -0.2px;
      --P3_R-size: 15px;  --P3_R-weight: 400;  --P3_R-lh: 1.35;  --P3_R-ls: -0.2px;
      --P3_1_M-size: 14px;  --P3_1_M-weight: 510;  --P3_1_M-lh: 1.35;  --P3_1_M-ls: -0.2px;
      --P4_B-size: 13px;  --P4_B-weight: 700;  --P4_B-lh: 1.2;  --P4_B-ls: 0px;
      --P4_R-size: 13px;  --P4_R-weight: 400;  --P4_R-lh: 1.2;  --P4_R-ls: 0px;
      --P5_R-size: 10px;  --P5_R-weight: 400;  --P5_R-lh: 1.2;  --P5_R-ls: 0px;
    }

    body.dark-mode {
      --filo-01: #6CC1FF;
      --filo-02: #45B1FF;
      --filo-05: #344352;
      --filo-06: #FFFFFF;
      --filo-07: #8B8B8B;
      --filo-08: #414149;
      --filo-09: #2A2A30;
      --filo-10: #1D1D21;
      --filo-11: #BE424D;
      --filo-14: rgba(255, 255, 255, 0.06);
      --filo-25: #727272;
      --bg: #121212;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'SF Pro', system-ui, sans-serif;
      background: var(--bg);
      min-height: 100vh;
      padding: 60px 80px;
      color: var(--filo-06);
    }

    /* Page Header */
    .page-header {
      margin-bottom: 40px;
    }

    .page-header h1 {
      font-size: var(--H2-size);
      font-weight: var(--H2-weight);
      letter-spacing: var(--H2-ls);
      margin-bottom: 8px;
      color: var(--filo-06);
    }

    .page-subtitle {
      font-size: var(--P3_R-size);
      font-weight: var(--P3_R-weight);
      line-height: var(--P3_R-lh);
      letter-spacing: var(--P3_R-ls);
      color: var(--filo-07);
      margin-bottom: 16px;
      max-width: 700px;
    }

    .page-meta {
      display: flex;
      gap: 16px;
      font-size: var(--P4_R-size);
      font-weight: var(--P4_R-weight);
      color: var(--filo-07);
      align-items: center;
    }

    .meta-item {
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .meta-item svg {
      width: 14px;
      height: 14px;
    }

    .meta-link {
      color: var(--filo-02);
      text-decoration: none;
    }

    .meta-link:hover {
      text-decoration: underline;
    }

    /* Mode Toggles */
    .mode-toggles {
      position: fixed;
      top: 20px;
      right: 20px;
      display: flex;
      gap: 12px;
    }

    .toggle-group {
      display: flex;
      background: var(--filo-14);
      border-radius: 8px;
      padding: 4px;
    }

    .mode-btn {
      padding: 6px 12px;
      border: none;
      background: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: var(--P4_R-size);
      font-weight: var(--P4_R-weight);
      color: var(--filo-07);
      transition: all 0.2s;
    }

    .mode-btn.active {
      background: var(--filo-10);
      color: var(--filo-06);
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }

    /* Screen Container */
    .screen-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 40px 0;
    }

    /* Desktop Frame - 1440x1024, radius 24 */
    .desktop-frame {
      width: 1440px;
      height: 1024px;
      background: linear-gradient(180deg, #EFF8FF 0%, #D7EEFF 27%, #AADBFF 75%, #71C3FF 100%);
      border-radius: 24px;
      overflow: hidden;
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
      position: relative;
    }

    body.dark-mode .desktop-frame {
      background: linear-gradient(180deg, #1f1f23 0%, #27272b 27%, #2d2d32 75%, #1f1f23 100%);
    }

    body.dark-mode .screen-wrapper {
      background: var(--filo-10);
      box-shadow: 
        0 0 0 1px rgba(255,255,255,0.06),
        0 4px 6px rgba(0,0,0,0.2),
        0 24px 48px rgba(0,0,0,0.4);
    }

    body.dark-mode .reply-card {
      background: var(--filo-10);
    }

    body.dark-mode .original-card {
      background: var(--filo-09);
    }

    body.dark-mode .email-item {
      background: var(--filo-10);
    }

    body.dark-mode .email-item.selected {
      background: var(--filo-09);
      outline-color: var(--filo-14);
    }

    body.dark-mode .todo-item {
      background: var(--filo-10);
    }

    body.dark-mode .label-card {
      background: var(--filo-10);
    }

    body.dark-mode .label-card.selected {
      background: var(--filo-09);
      border-color: var(--filo-14);
    }

    body.dark-mode .stat-item {
      background: var(--filo-09);
    }

    body.dark-mode .quick-btn {
      background: var(--filo-09);
      color: var(--filo-06);
    }

    body.dark-mode .quick-btn:hover,
    body.dark-mode .quick-btn.active {
      background: var(--filo-02);
      color: white;
    }

    /* macOS Traffic Lights */
    .traffic-lights {
      position: absolute;
      top: 20px;
      left: 20px;
      display: flex;
      gap: 8px;
      z-index: 101;
    }

    .traffic-light {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      cursor: default;
    }

    .traffic-light.close { background: #FF5F57; }
    .traffic-light.minimize { background: #FEBC2E; }
    .traffic-light.maximize { background: #28C840; }

    /* Inside Frame Container */
    .frame-content {
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
    }

    .drag-bar {
      height: 52px;
      flex-shrink: 0;
    }

    .content {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0 80px 60px;
      gap: 80px;
    }

    /* ========== Left Info Area ========== */
    .info {
      max-width: 420px;
      height: 491px;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
    }

    .title {
      font-size: var(--H2-size);
      font-weight: var(--H2-weight);
      line-height: var(--H2-lh);
      letter-spacing: var(--H2-ls);
      color: var(--filo-06);
      margin-bottom: 16px;
    }

    .subtitle {
      font-size: var(--P3_R-size);
      font-weight: var(--P3_R-weight);
      line-height: var(--P3_R-lh);
      letter-spacing: var(--P3_R-ls);
      color: var(--filo-07);
      margin-bottom: 32px;
    }

    .info-slide {
      display: none;
      padding-top: 40px;
    }

    .info-slide.active {
      display: block;
      animation: fadeUp 0.4s ease;
    }

    /* Slide icon above title */
    .slide-icon {
      width: 36px;
      height: 36px;
      margin-bottom: 20px;
    }

    .slide-icon svg {
      width: 100%;
      height: 100%;
    }

    /* Twinkling sparkle animation */
    .slide-icon .sparkle-main {
      transform-origin: 8.5px 15.5px;
      animation: twinkleMain 2.5s ease-in-out infinite;
    }

    .slide-icon .sparkle-small {
      transform-origin: 19.5px 4.5px;
      animation: twinkleSmall 2s ease-in-out infinite;
    }

    @keyframes twinkleMain {
      0%, 100% { 
        transform: scale(1);
        opacity: 1;
      }
      50% { 
        transform: scale(0.85);
        opacity: 0.6;
      }
    }

    @keyframes twinkleSmall {
      0%, 100% { 
        transform: scale(1);
        opacity: 1;
      }
      30% { 
        transform: scale(0.7);
        opacity: 0.4;
      }
      60% {
        transform: scale(1.1);
        opacity: 1;
      }
    }

    /* Push content down */
    .info-slide[data-step]:not([data-step="0"]) {
      padding-top: 40px;
    }

    @keyframes fadeUp {
      from { opacity: 0; transform: translateY(12px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* Navigation */
    .nav {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-top: auto;
      margin-bottom: 40px;
    }

    .btn {
      font-family: inherit;
      font-size: var(--P3_1_M-size);
      font-weight: var(--P3_1_M-weight);
      letter-spacing: var(--P3_1_M-ls);
      border: none;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .btn-primary {
      background: var(--filo-06);
      color: var(--filo-10);
      padding: 14px 32px;
      border-radius: 100px;
    }

    .btn-primary:hover {
      opacity: 0.9;
      transform: translateY(-1px);
    }

    .btn-secondary {
      background: transparent;
      color: var(--filo-07);
      padding: 14px 24px;
      border-radius: 100px;
      border: 1px solid var(--filo-08);
    }

    .btn-secondary:hover {
      background: var(--filo-14);
      color: var(--filo-06);
    }

    /* Text link buttons */
    .nav-links {
      display: flex;
      align-items: center;
      gap: 0;
    }

    .nav-link {
      font-family: inherit;
      font-size: var(--P3_R-size);
      font-weight: var(--P3_R-weight);
      letter-spacing: var(--P3_R-ls);
      color: var(--filo-07);
      background: none;
      border: none;
      cursor: pointer;
      padding: 8px 16px;
      transition: color 0.2s;
    }

    .nav-link#skipBtn {
      padding-left: 0;
    }

    .nav-link:hover {
      color: var(--filo-06);
    }

    .nav-divider {
      width: 1px;
      height: 16px;
      background: var(--filo-07);
    }

    /* ========== Right Visual Area ========== */
    .visual {
      flex-shrink: 0;
      width: 655px;
      height: 491px;
      position: relative;
    }

    .screen-wrapper {
      width: 100%;
      height: 100%;
      border-radius: 28px;
      overflow: hidden;
      background: #fff;
      box-shadow: 
        0 0 0 1px rgba(0,0,0,0.04),
        0 4px 6px rgba(0,0,0,0.04),
        0 24px 48px rgba(0,0,0,0.12);
      display: flex;
      flex-direction: column;
    }

    .slide {
      position: absolute;
      inset: 0;
      opacity: 0;
      transform: scale(0.96);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      pointer-events: none;
    }

    .slide.active {
      opacity: 1;
      transform: scale(1);
      pointer-events: auto;
    }

    /* Hide info during processing, center visual */
    .content.processing {
      justify-content: center;
    }

    .content.processing .info {
      display: none;
    }

    .content.processing .visual {
      width: 655px;
      flex-shrink: 0;
    }

    .content.step5 .info {
      display: none;
    }

    .content.step5 .visual {
      width: 100%;
      flex-shrink: 0;
    }

    .panel-header {
      height: 48px;
      display: flex;
      align-items: center;
      padding: 0 20px;
      font-size: var(--P3_1_M-size);
      font-weight: var(--P3_1_M-weight);
      letter-spacing: var(--P3_1_M-ls);
      color: var(--filo-06);
    }

    /* ========== Step 0: Processing ========== */
    .processing-content {
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 40px;
    }

    .processing-spinner {
      width: 48px;
      height: 48px;
      border: 3px solid var(--filo-08);
      border-top-color: var(--filo-02);
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-bottom: 32px;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    .processing-steps {
      display: flex;
      flex-direction: column;
      gap: 16px;
      width: 100%;
      max-width: 280px;
    }

    .processing-step {
      display: flex;
      align-items: center;
      gap: 12px;
      font-size: var(--P3_1_M-size);
      font-weight: var(--P3_1_M-weight);
      color: var(--filo-08);
      transition: all 0.3s;
    }

    .processing-step.active {
      color: var(--filo-02);
    }

    .processing-step.done {
      color: var(--filo-06);
    }

    .processing-step svg {
      width: 20px;
      height: 20px;
      flex-shrink: 0;
    }

    /* ========== Step 1: Important Emails ========== */
    .email-list {
      flex: 1;
      overflow-y: auto;
      padding: 12px 16px;
    }

    .email-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px 14px;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.15s;
      margin-bottom: 8px;
      background: #fafafa;
    }

    .email-item:hover {
      background: #f5f5f5;
    }

    .email-item.selected {
      background: rgba(28, 160, 242, 0.08);
      outline: 0.5px solid var(--filo-14);
    }

    .email-checkbox {
      width: 20px;
      height: 20px;
      border: 2px solid var(--filo-08);
      border-radius: 6px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      transition: all 0.15s;
    }

    .email-item.selected .email-checkbox {
      background: var(--filo-02);
      border-color: var(--filo-02);
    }

    .email-checkbox svg {
      width: 14px;
      height: 14px;
      color: white;
      opacity: 0;
    }

    .email-item.selected .email-checkbox svg {
      opacity: 1;
    }

    .email-avatar {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: linear-gradient(135deg, #c7d2fe, #a5b4fc);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: var(--P3_1_M-size);
      font-weight: var(--P3_1_M-weight);
      color: #4338ca;
      flex-shrink: 0;
    }

    .email-info {
      flex: 1;
      min-width: 0;
    }

    .email-sender {
      font-size: var(--P4_B-size);
      font-weight: var(--P4_B-weight);
      line-height: var(--P4_B-lh);
      color: var(--filo-06);
      margin-bottom: 2px;
    }

    .email-subject {
      font-size: 12px;
      font-weight: var(--P5_R-weight);
      line-height: var(--P5_R-lh);
      color: var(--filo-07);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .email-time {
      font-size: 11px;
      font-weight: var(--P5_R-weight);
      line-height: var(--P5_R-lh);
      color: var(--filo-07);
      flex-shrink: 0;
    }

    /* ========== Step 2: Todos ========== */
    .todo-list {
      flex: 1;
      overflow-y: auto;
      padding: 12px 16px;
    }

    .todo-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 14px 16px;
      background: #fafafa;
      border-radius: 12px;
      margin-bottom: 10px;
      transition: all 0.2s;
    }

    .todo-item.done .todo-text {
      text-decoration: line-through;
      opacity: 0.5;
    }

    .todo-item.done .todo-delete {
      opacity: 0.5;
    }

    .todo-checkbox {
      width: 24px;
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      flex-shrink: 0;
      transition: all 0.15s;
    }

    .todo-checkbox:hover {
      opacity: 0.8;
    }

    .todo-checkbox svg {
      width: 24px;
      height: 24px;
    }

    .todo-text {
      flex: 1;
      font-size: var(--P3_1_M-size);
      font-weight: var(--P3_1_M-weight);
      line-height: var(--P3_1_M-lh);
      color: var(--filo-06);
    }

    .todo-delete {
      width: 20px;
      height: 20px;
      border: none;
      background: none;
      color: var(--filo-08);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .todo-delete svg {
      width: 100%;
      height: 100%;
    }


    /* ========== Step 3: Labels ========== */
    .label-list {
      flex: 1;
      overflow-y: auto;
      padding: 16px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .label-card {
      padding: 16px;
      background: #fafafa;
      border-radius: 12px;
      border: 2px solid transparent;
      cursor: pointer;
      transition: all 0.15s;
    }

    .label-card:hover {
      background: #f5f5f5;
    }

    .label-card.selected {
      background: rgba(28, 160, 242, 0.06);
      border: 0.5px solid var(--filo-14);
    }

    .label-header {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 8px;
    }

    .label-icon {
      width: 20px;
      height: 20px;
      flex-shrink: 0;
    }

    .label-icon svg {
      width: 100%;
      height: 100%;
    }

    .label-name {
      font-size: var(--P3_1_M-size);
      font-weight: var(--P3_1_M-weight);
      letter-spacing: var(--P3_1_M-ls);
      color: var(--filo-06);
    }

    .label-count {
      font-size: 12px;
      font-weight: var(--P5_R-weight);
      color: var(--filo-07);
      margin-left: auto;
    }

    .label-desc {
      font-size: var(--P4_R-size);
      font-weight: var(--P4_R-weight);
      line-height: var(--P4_R-lh);
      color: var(--filo-07);
    }

    /* ========== Step 4: Reply ========== */
    .reply-wrapper {
      display: flex;
      flex-direction: column;
      height: 100%;
      padding: 16px;
    }

    .original-card {
      padding: 14px 16px;
      background: #fafafa;
      border-radius: 12px 12px 0 0;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .original-avatar {
      width: 40px;
      height: 40px;
      background: linear-gradient(135deg, #c7d2fe, #a5b4fc);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: var(--P2_M-size);
      font-weight: var(--P2_M-weight);
      color: #4338ca;
      flex-shrink: 0;
    }

    .original-info {
      flex: 1;
      min-width: 0;
    }

    .original-name {
      font-size: var(--P3_1_M-size);
      font-weight: var(--P3_1_M-weight);
      letter-spacing: var(--P3_1_M-ls);
      color: var(--filo-06);
    }

    .original-subject {
      font-size: var(--P4_R-size);
      font-weight: var(--P4_R-weight);
      color: var(--filo-07);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .reply-card {
      flex: 1;
      background: white;
      border: 0.5px solid var(--filo-08);
      border-radius: 0 0 20px 20px;
      display: flex;
      flex-direction: column;
      padding: 16px;
    }


    .reply-content {
      flex: 1;
      font-size: var(--P3_1_M-size);
      font-weight: var(--P3_1_M-weight);
      line-height: 1.7;
      letter-spacing: var(--P3_1_M-ls);
      color: var(--filo-06);
      min-height: 100px;
    }

    .reply-content.placeholder {
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      color: var(--filo-25);
      font-size: var(--P4_R-size);
      font-weight: var(--P4_R-weight);
      white-space: pre-wrap;
    }

    .quick-actions {
      display: flex;
      gap: 8px;
      margin-top: 16px;
      flex-wrap: wrap;
    }

    .quick-btn {
      padding: 10px 16px;
      font-size: var(--P4_R-size);
      font-weight: var(--P4_R-weight);
      font-family: inherit;
      color: var(--filo-07);
      background: #f5f5f5;
      border: none;
      border-radius: 100px;
      cursor: pointer;
      transition: all 0.15s;
    }

    .quick-btn:hover {
      background: #ebebeb;
    }

    .quick-btn.active {
      background: var(--filo-02);
      color: white;
    }

    .typing-cursor {
      display: inline-block;
      width: 2px;
      height: 16px;
      background: var(--filo-02);
      margin-left: 2px;
      animation: blink 0.8s infinite;
      vertical-align: middle;
    }

    @keyframes blink {
      0%, 50% { opacity: 1; }
      51%, 100% { opacity: 0; }
    }

    /* ========== Step 5: Ready ========== */
    .ready-content {
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 40px;
      text-align: center;
    }

    .ready-icon {
      width: 72px;
      height: 72px;
      background: var(--filo-02);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 24px;
    }

    .ready-icon svg {
      width: 32px;
      height: 32px;
    }

    .ready-content-centered {
      justify-content: center;
    }

    .ready-icon-large {
      width: 120px;
      height: 120px;
      margin-bottom: 32px;
    }

    .ready-icon-large svg {
      width: 56px;
      height: 56px;
    }

    .ready-no-card {
      background: transparent;
    }

    .slide-fullwidth {
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .complete-content {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 40px;
      width: 100%;
      height: 100%;
      position: relative;
      z-index: 1;
    }

    .complete-title {
      font-size: 28px;
      font-weight: 700;
      color: var(--filo-06);
      margin-top: 24px;
      margin-bottom: 12px;
    }

    .complete-subtitle {
      font-size: 16px;
      color: var(--filo-07);
      margin-bottom: 48px;
      max-width: 360px;
    }

    .complete-actions {
      display: flex;
      flex-direction: column;
      gap: 12px;
      align-items: center;
    }

    .btn-secondary {
      background: transparent;
      color: var(--filo-07);
      border: none;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      padding: 8px 16px;
    }

    .btn-secondary:hover {
      color: var(--filo-06);
    }

    .ready-icon-animated {
      animation: checkPop 0.5s ease-out;
    }

    @keyframes checkPop {
      0% {
        transform: scale(0);
        opacity: 0;
      }
      60% {
        transform: scale(1.1);
      }
      100% {
        transform: scale(1);
        opacity: 1;
      }
    }

    .checkmark-path {
      stroke-dasharray: 30;
      stroke-dashoffset: 30;
      animation: drawCheck 0.4s ease-out 0.3s forwards;
    }

    @keyframes drawCheck {
      to {
        stroke-dashoffset: 0;
      }
    }

    .confetti-container {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      overflow: hidden;
      z-index: 0;
    }

    .confetti {
      position: absolute;
      width: 10px;
      height: 10px;
      opacity: 0;
      animation: confettiFall 1.5s ease-out forwards;
    }

    @keyframes confettiFall {
      0% {
        opacity: 1;
        transform: translateY(0) rotate(0deg);
      }
      100% {
        opacity: 0;
        transform: translateY(400px) rotate(720deg);
      }
    }

    .ready-title {
      font-size: var(--H5-size);
      font-weight: var(--H5-weight);
      line-height: var(--H5-lh);
      color: var(--filo-06);
      margin-bottom: 8px;
    }

    .ready-subtitle {
      font-size: var(--P3_1_M-size);
      font-weight: var(--P3_1_M-weight);
      letter-spacing: var(--P3_1_M-ls);
      color: var(--filo-07);
      margin-bottom: 32px;
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
      width: 100%;
      max-width: 320px;
    }

    .stat-item {
      background: #fafafa;
      border-radius: 12px;
      padding: 16px;
      text-align: center;
    }

    .stat-value {
      font-size: var(--H3-size);
      font-weight: var(--H3-weight);
      line-height: var(--H3-lh);
      color: var(--filo-02);
    }

    .stat-label {
      font-size: 12px;
      font-weight: var(--P5_R-weight);
      line-height: var(--P5_R-lh);
      color: var(--filo-07);
      margin-top: 4px;
    }

  </style>
</head>
<body>
  <!-- Page Header -->
  <div class="page-header">
    <h1>Onboarding - Raw (No User Data)</h1>
    <p class="page-subtitle">Desktop version of the interactive onboarding flow. Filo AI helps users set up their inbox through conversation, organizing emails, creating todos, suggesting labels, and drafting replies.</p>
    <div class="page-meta">
      <span class="meta-item">
        <svg viewBox="0 0 24 24" fill="none"><rect x="2" y="3" width="20" height="14" rx="2" stroke="currentColor" stroke-width="2"/><line x1="8" y1="21" x2="16" y2="21" stroke="currentColor" stroke-width="2" stroke-linecap="round"/><line x1="12" y1="17" x2="12" y2="21" stroke="currentColor" stroke-width="2"/></svg>
        Desktop
      </span>
      <span class="meta-item">
        <svg viewBox="0 0 24 24" fill="none"><path d="M10 6H6C4.89543 6 4 6.89543 4 8V18C4 19.1046 4.89543 20 6 20H18C19.1046 20 20 19.1046 20 18V14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/><path d="M17 3L21 7M21 3L17 7" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
        <a href="https://xindong.atlassian.net/browse/FILO-1616" target="_blank" class="meta-link">FILO-1616</a>
      </span>
    </div>
  </div>

  <!-- Mode Toggles -->
  <div class="mode-toggles">
    <div class="toggle-group">
      <button class="mode-btn active" onclick="setTheme('light')">Light</button>
      <button class="mode-btn" onclick="setTheme('dark')">Dark</button>
    </div>
  </div>

  <!-- Screen Container -->
  <div class="screen-container">
    <!-- Desktop Frame 1440x1024 -->
    <div class="desktop-frame">
      <!-- macOS Window Controls -->
      <div class="traffic-lights">
        <div class="traffic-light close"></div>
        <div class="traffic-light minimize"></div>
        <div class="traffic-light maximize"></div>
      </div>

      <div class="frame-content">
        <div class="drag-bar"></div>
        
        <div class="content processing">
          <!-- Left: Info Area -->
          <div class="info">
            <!-- Step 0: Processing - no text, visual is centered -->
            <div class="info-slide" data-step="0"></div>

            <!-- Step 1: Important Emails -->
            <div class="info-slide" data-step="1">
              <div class="slide-icon">
                <svg viewBox="0 0 24 24" fill="none">
                  <path class="sparkle-main" d="M7.59668 7.64636C7.89082 6.78501 9.1082 6.78501 9.40234 7.64636L10.2637 10.1669C10.8366 11.8447 12.1543 13.1632 13.832 13.7362L16.3535 14.5966C17.2149 14.8907 17.2149 16.1091 16.3535 16.4032L13.832 17.2645C12.1544 17.8376 10.8366 19.1552 10.2637 20.8329L9.40234 23.3544C9.10797 24.2151 7.89104 24.2151 7.59668 23.3544L6.73535 20.8329C6.16241 19.1551 4.84467 17.8376 3.16699 17.2645L0.645508 16.4032C-0.215783 16.109 -0.215821 14.8907 0.645508 14.5966L3.16699 13.7362C4.8448 13.1632 6.16239 11.8447 6.73535 10.1669L7.59668 7.64636Z" fill="#22A0FB"/>
                  <path class="sparkle-small" d="M19.0215 0.341675C19.1774 -0.113881 19.8216 -0.113867 19.9775 0.341675L20.4336 1.67664C20.7369 2.56495 21.4349 3.26294 22.3232 3.56628L23.6572 4.02136C24.1132 4.17708 24.1132 4.82267 23.6572 4.97839L22.3232 5.43347C21.435 5.73679 20.737 6.43491 20.4336 7.32312L19.9775 8.65808C19.8217 9.11391 19.1773 9.11392 19.0215 8.65808L18.5654 7.32312C18.262 6.43492 17.564 5.73679 16.6758 5.43347L15.3418 4.97839C14.8858 4.82267 14.8858 4.17708 15.3418 4.02136L16.6758 3.56628C17.5641 3.26294 18.2621 2.56494 18.5654 1.67664L19.0215 0.341675Z" fill="#22A0FB"/>
                </svg>
              </div>
              <h1 class="title" id="title1">Mark what matters, I'll learn the rest</h1>
              <p class="subtitle" id="subtitle1">I scan your inbox and surface emails you might miss. Try clicking to mark which ones are important — I'll learn your preferences over time.</p>
            </div>

            <!-- Step 2: Todos -->
            <div class="info-slide" data-step="2">
              <div class="slide-icon">
                <svg viewBox="0 0 24 24" fill="none">
                  <path class="sparkle-main" d="M7.59668 7.64636C7.89082 6.78501 9.1082 6.78501 9.40234 7.64636L10.2637 10.1669C10.8366 11.8447 12.1543 13.1632 13.832 13.7362L16.3535 14.5966C17.2149 14.8907 17.2149 16.1091 16.3535 16.4032L13.832 17.2645C12.1544 17.8376 10.8366 19.1552 10.2637 20.8329L9.40234 23.3544C9.10797 24.2151 7.89104 24.2151 7.59668 23.3544L6.73535 20.8329C6.16241 19.1551 4.84467 17.8376 3.16699 17.2645L0.645508 16.4032C-0.215783 16.109 -0.215821 14.8907 0.645508 14.5966L3.16699 13.7362C4.8448 13.1632 6.16239 11.8447 6.73535 10.1669L7.59668 7.64636Z" fill="#22A0FB"/>
                  <path class="sparkle-small" d="M19.0215 0.341675C19.1774 -0.113881 19.8216 -0.113867 19.9775 0.341675L20.4336 1.67664C20.7369 2.56495 21.4349 3.26294 22.3232 3.56628L23.6572 4.02136C24.1132 4.17708 24.1132 4.82267 23.6572 4.97839L22.3232 5.43347C21.435 5.73679 20.737 6.43491 20.4336 7.32312L19.9775 8.65808C19.8217 9.11391 19.1773 9.11392 19.0215 8.65808L18.5654 7.32312C18.262 6.43492 17.564 5.73679 16.6758 5.43347L15.3418 4.97839C14.8858 4.82267 14.8858 4.17708 15.3418 4.02136L16.6758 3.56628C17.5641 3.26294 18.2621 2.56494 18.5654 1.67664L19.0215 0.341675Z" fill="#22A0FB"/>
                </svg>
              </div>
              <h1 class="title" id="title2">To-dos from your inbox, automatically</h1>
              <p class="subtitle" id="subtitle2">Deadlines, requests, follow-ups — You can mark them as done, remove those you don't need, or just tell me your rules, like 'always create a task for meeting invites'.</p>
            </div>

            <!-- Step 3: Labels -->
            <div class="info-slide" data-step="3">
              <div class="slide-icon">
                <svg viewBox="0 0 24 24" fill="none">
                  <path class="sparkle-main" d="M7.59668 7.64636C7.89082 6.78501 9.1082 6.78501 9.40234 7.64636L10.2637 10.1669C10.8366 11.8447 12.1543 13.1632 13.832 13.7362L16.3535 14.5966C17.2149 14.8907 17.2149 16.1091 16.3535 16.4032L13.832 17.2645C12.1544 17.8376 10.8366 19.1552 10.2637 20.8329L9.40234 23.3544C9.10797 24.2151 7.89104 24.2151 7.59668 23.3544L6.73535 20.8329C6.16241 19.1551 4.84467 17.8376 3.16699 17.2645L0.645508 16.4032C-0.215783 16.109 -0.215821 14.8907 0.645508 14.5966L3.16699 13.7362C4.8448 13.1632 6.16239 11.8447 6.73535 10.1669L7.59668 7.64636Z" fill="#22A0FB"/>
                  <path class="sparkle-small" d="M19.0215 0.341675C19.1774 -0.113881 19.8216 -0.113867 19.9775 0.341675L20.4336 1.67664C20.7369 2.56495 21.4349 3.26294 22.3232 3.56628L23.6572 4.02136C24.1132 4.17708 24.1132 4.82267 23.6572 4.97839L22.3232 5.43347C21.435 5.73679 20.737 6.43491 20.4336 7.32312L19.9775 8.65808C19.8217 9.11391 19.1773 9.11392 19.0215 8.65808L18.5654 7.32312C18.262 6.43492 17.564 5.73679 16.6758 5.43347L15.3418 4.97839C14.8858 4.82267 14.8858 4.17708 15.3418 4.02136L16.6758 3.56628C17.5641 3.26294 18.2621 2.56494 18.5654 1.67664L19.0215 0.341675Z" fill="#22A0FB"/>
                </svg>
              </div>
              <h1 class="title" id="title3">I'll keep your inbox organized with labels</h1>
              <p class="subtitle" id="subtitle3">Suggested based on your patterns — or add your own.</p>
            </div>

            <!-- Step 4: Reply -->
            <div class="info-slide" data-step="4">
              <div class="slide-icon">
                <svg viewBox="0 0 24 24" fill="none">
                  <path class="sparkle-main" d="M7.59668 7.64636C7.89082 6.78501 9.1082 6.78501 9.40234 7.64636L10.2637 10.1669C10.8366 11.8447 12.1543 13.1632 13.832 13.7362L16.3535 14.5966C17.2149 14.8907 17.2149 16.1091 16.3535 16.4032L13.832 17.2645C12.1544 17.8376 10.8366 19.1552 10.2637 20.8329L9.40234 23.3544C9.10797 24.2151 7.89104 24.2151 7.59668 23.3544L6.73535 20.8329C6.16241 19.1551 4.84467 17.8376 3.16699 17.2645L0.645508 16.4032C-0.215783 16.109 -0.215821 14.8907 0.645508 14.5966L3.16699 13.7362C4.8448 13.1632 6.16239 11.8447 6.73535 10.1669L7.59668 7.64636Z" fill="#22A0FB"/>
                  <path class="sparkle-small" d="M19.0215 0.341675C19.1774 -0.113881 19.8216 -0.113867 19.9775 0.341675L20.4336 1.67664C20.7369 2.56495 21.4349 3.26294 22.3232 3.56628L23.6572 4.02136C24.1132 4.17708 24.1132 4.82267 23.6572 4.97839L22.3232 5.43347C21.435 5.73679 20.737 6.43491 20.4336 7.32312L19.9775 8.65808C19.8217 9.11391 19.1773 9.11392 19.0215 8.65808L18.5654 7.32312C18.262 6.43492 17.564 5.73679 16.6758 5.43347L15.3418 4.97839C14.8858 4.82267 14.8858 4.17708 15.3418 4.02136L16.6758 3.56628C17.5641 3.26294 18.2621 2.56494 18.5654 1.67664L19.0215 0.341675Z" fill="#22A0FB"/>
                </svg>
              </div>
              <h1 class="title" id="title4">Pick a response you like</h1>
              <p class="subtitle" id="subtitle4">I draft replies for emails that need your attention. Choose the one that fits.</p>
            </div>

            <!-- Step 5: Ready -->
            <div class="info-slide" data-step="5"></div>

            <div class="nav">
              <div class="nav-links" id="navLinks" style="display:none;">
                <button class="nav-link" id="skipBtn">Skip</button>
                <div class="nav-divider"></div>
                <button class="nav-link" id="backBtn">Back</button>
              </div>
              <button class="btn btn-primary" id="nextBtn" style="display:none;">Next</button>
            </div>
          </div>

          <!-- Right: Interactive Preview -->
          <div class="visual">
            <!-- Step 0: Processing -->
            <div class="slide active" data-step="0">
              <div class="screen-wrapper">
                <div class="processing-content">
                  <div class="processing-spinner"></div>
                  <div class="processing-steps">
                    <div class="processing-step active" id="proc-sync">
                      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/></svg>
                      <span id="procText0">Syncing your emails...</span>
                    </div>
                    <div class="processing-step" id="proc-important">
                      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/></svg>
                      <span id="procText1">Looking for important ones...</span>
                    </div>
                    <div class="processing-step" id="proc-todos">
                      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/></svg>
                      <span id="procText2">Extracting action items...</span>
                    </div>
                    <div class="processing-step" id="proc-labels">
                      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/></svg>
                      <span id="procText3">Suggesting some labels...</span>
                    </div>
                    <div class="processing-step" id="proc-reply">
                      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/></svg>
                      <span id="procText4">Checking for pending replies...</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Step 1: Important Emails -->
            <div class="slide" data-step="1">
              <div class="screen-wrapper">
                <div class="panel-header" id="panelHeader1">Emails I Found</div>
                <div class="email-list" id="emailList"></div>
              </div>
            </div>

            <!-- Step 2: Todos -->
            <div class="slide" data-step="2">
              <div class="screen-wrapper">
                <div class="panel-header" id="panelHeader2">To-dos</div>
                <div class="todo-list" id="todoList"></div>
              </div>
            </div>

            <!-- Step 3: Labels -->
            <div class="slide" data-step="3">
              <div class="screen-wrapper">
                <div class="panel-header" id="panelHeader3">Suggested Labels</div>
                <div class="label-list" id="labelList"></div>
              </div>
            </div>

            <!-- Step 4: Reply -->
            <div class="slide" data-step="4">
              <div class="screen-wrapper">
                <div class="reply-wrapper">
                  <div class="original-card">
                    <div class="original-avatar" id="replyAvatar">M</div>
                    <div class="original-info">
                      <div class="original-name" id="replyName">Mike Wang</div>
                      <div class="original-subject" id="replySubject">Re: Project Timeline Confirmation</div>
                    </div>
                  </div>
                  <div class="reply-card">
                    <div class="reply-content" id="replyContent">Pick a response style below</div>
                    <div class="quick-actions" id="quickActions">
                      <button class="quick-btn" data-reply="accept">Sounds good</button>
                      <button class="quick-btn" data-reply="reschedule">Need to reschedule</button>
                      <button class="quick-btn" data-reply="question">Have a question</button>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Step 5: Ready -->
            <div class="slide slide-fullwidth" data-step="5">
              <div class="confetti-container" id="confettiContainer"></div>
              <div class="complete-content">
                <div class="ready-icon ready-icon-large ready-icon-animated">
                  <svg viewBox="0 0 24 24" fill="none">
                    <path class="checkmark-path" d="M5 12L10 17L19 6" stroke="white" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
                  </svg>
                </div>
                <h1 class="complete-title" id="completeTitle">You're All Set</h1>
                <p class="complete-subtitle" id="completeSubtitle">Ready to dive in? Or add another email account—I can handle them all.</p>
                <div class="complete-actions">
                  <button class="btn btn-primary" id="btnGoToInbox">Dive into Filo</button>
                  <button class="btn btn-secondary" id="btnAddAccount">Add account</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Theme toggle
    function setTheme(theme) {
      const body = document.body;
      const btns = document.querySelectorAll('.toggle-group .mode-btn');
      if (theme === 'dark') {
        body.classList.add('dark-mode');
      } else {
        body.classList.remove('dark-mode');
      }
      btns.forEach(btn => btn.classList.remove('active'));
      event.target.classList.add('active');
    }
  </script>

  <script>
    // ========== i18n ==========
    const i18n = {
      en: {
        back: 'Back',
        skip: 'Skip',
        next: 'Continue',
        markImportant: 'Mark as Important',
        looksGood: 'Looks Good',
        wrapUp: 'Let\'s Wrap Up',
        addAccount: 'Add account',
        goToInbox: 'Dive into Filo',
        step1: { title: 'Mark what matters, I\'ll learn the rest', subtitle: 'I scan your inbox and surface emails you might miss. Try clicking to mark which ones are important — I\'ll learn your preferences over time.' },
        step2: { title: 'To-dos from your inbox, automatically', subtitle: 'Deadlines, requests, follow-ups — You can mark them as done, remove those you don\'t need, or just tell me your rules, like \'always create a task for meeting invites\'.' },
        step3: { title: 'I\'ll keep your inbox organized with labels', subtitle: 'Suggested based on your patterns — or add your own.' },
        step4: { title: 'Pick a response you like', subtitle: 'I draft replies for emails that need your attention. Choose the one that fits.' },
        step5: { title: 'You\'re All Set', subtitle: 'Ready to dive in? Or add another email account—I can handle them all.' },
        proc: ['Syncing your emails...', 'Looking for important ones...', 'Extracting action items...', 'Suggesting some labels...', 'Checking for pending replies...'],
        panels: ['Emails I Found', 'To-dos', 'Suggested Labels'],
        replyPlaceholder: 'Pick a response style below',
        quickBtns: ['Sounds good', 'Need to reschedule', 'Have a question'],
        readyTitle: 'Done and Dusted',
        readySubtitle: 'Here\'s what I took care of',
        stats: ['Emails Synced', 'Tasks Found', 'Labels Created', 'Draft Saved'],
      },
      zh: {
        back: '返回',
        skip: '跳过',
        next: '继续',
        markImportant: '标记为重要',
        looksGood: '看起来不错',
        wrapUp: '准备完成',
        addAccount: '添加账户',
        goToInbox: '进入 Filo',
        step1: { title: '看看我发现了什么', subtitle: '这些邮件藏在收件箱深处，看起来挺重要的。快速浏览一下，标记你想关注的那些。' },
        step2: { title: '有些事要处理', subtitle: '在你的邮件里发现了这些待办事项。已经完成了？打个勾。不需要？直接删掉。' },
        step3: { title: '我帮你创建了一些标签', subtitle: '这些应该能帮你保持整洁。留下合适的，跳过不需要的。' },
        step4: { title: '这封邮件等你很久了', subtitle: '看起来有封邮件还在等你回复。选择一种回复风格，我来帮你起草。' },
        step5: { title: '一切就绪', subtitle: '我已经帮你整理好了。准备好开始了吗？或者添加其他邮箱账户——我都能帮你管理。' },
        proc: ['正在同步你的邮件...', '寻找重要邮件中...', '提取待办事项中...', '建议一些标签...', '检查待回复邮件...'],
        panels: ['我找到的邮件', '待办事项', '建议的标签'],
        replyPlaceholder: '选择一个回复风格',
        quickBtns: ['没问题', '需要改期', '有个问题'],
        readyTitle: '搞定收工',
        readySubtitle: '这些是我帮你处理的',
        stats: ['已同步邮件', '发现任务', '创建标签', '保存草稿'],
      },
      'zh-tw': {
        back: '返回',
        skip: '跳過',
        next: '繼續',
        markImportant: '標記為重要',
        looksGood: '看起來不錯',
        wrapUp: '準備完成',
        addAccount: '新增帳戶',
        goToInbox: '進入 Filo',
        step1: { title: '看看我發現了什麼', subtitle: '這些郵件藏在收件匣深處，看起來挺重要的。快速瀏覽一下，標記你想關注的那些。' },
        step2: { title: '有些事要處理', subtitle: '在你的郵件裡發現了這些待辦事項。已經完成了？打個勾。不需要？直接刪掉。' },
        step3: { title: '我幫你建立了一些標籤', subtitle: '這些應該能幫你保持整潔。留下合適的，跳過不需要的。' },
        step4: { title: '這封郵件等你很久了', subtitle: '看起來有封郵件還在等你回覆。選擇一種回覆風格，我來幫你起草。' },
        step5: { title: '一切就緒', subtitle: '我已經幫你整理好了。準備好開始了嗎？或者新增其他郵箱帳戶——我都能幫你管理。' },
        proc: ['正在同步你的郵件...', '尋找重要郵件中...', '提取待辦事項中...', '建議一些標籤...', '檢查待回覆郵件...'],
        panels: ['我找到的郵件', '待辦事項', '建議的標籤'],
        replyPlaceholder: '選擇一個回覆風格',
        quickBtns: ['沒問題', '需要改期', '有個問題'],
        readyTitle: '搞定收工',
        readySubtitle: '這些是我幫你處理的',
        stats: ['已同步郵件', '發現任務', '建立標籤', '儲存草稿'],
      },
      ja: {
        back: '戻る',
        skip: 'スキップ',
        next: '続ける',
        markImportant: '重要としてマーク',
        looksGood: 'いいね',
        wrapUp: '完了する',
        addAccount: 'アカウントを追加',
        goToInbox: 'Filoへ',
        step1: { title: 'こんなの見つけたよ', subtitle: '受信トレイの奥に隠れていた重要そうなメールです。ざっと見て、気になるものをマークしてください。' },
        step2: { title: 'やることがあるよ', subtitle: 'メールの中からタスクを見つけました。完了したらチェック。不要なら削除。' },
        step3: { title: 'ラベルを作っておいたよ', subtitle: '整理に役立つはずです。合うものは残して、合わないものはスキップ。' },
        step4: { title: 'このメール、返信待ちだよ', subtitle: 'まだ返信していないメールがあるようです。返信スタイルを選んで、下書きを作成します。' },
        step5: { title: '準備完了', subtitle: '整理が終わりました。始める準備はできましたか？他のメールアカウントも追加できます。' },
        proc: ['メールを同期中...', '重要なメールを探索中...', 'タスクを抽出中...', 'ラベルを提案中...', '返信待ちを確認中...'],
        panels: ['見つけたメール', 'タスク', '提案されたラベル'],
        replyPlaceholder: '返信スタイルを選択',
        quickBtns: ['了解', 'リスケが必要', '質問がある'],
        readyTitle: '完了',
        readySubtitle: '対応した内容はこちら',
        stats: ['同期済みメール', '発見したタスク', '作成したラベル', '保存した下書き'],
      },
      es: {
        back: 'Atrás',
        skip: 'Omitir',
        next: 'Continuar',
        markImportant: 'Marcar como Importante',
        looksGood: 'Se Ve Bien',
        wrapUp: 'Terminar',
        addAccount: 'Agregar cuenta',
        goToInbox: 'Entrar a Filo',
        step1: { title: 'Mira Lo Que Encontré', subtitle: 'Estos correos estaban escondidos en tu bandeja de entrada y parecen importantes. Échales un vistazo y marca los que quieras seguir.' },
        step2: { title: 'Hay Cosas Por Hacer', subtitle: 'Encontré estas tareas en tus correos. ¿Ya las hiciste? Márcalas. ¿No las necesitas? Elimínalas.' },
        step3: { title: 'Creé Algunas Etiquetas Para Ti', subtitle: 'Estas deberían ayudarte a mantenerte organizado. Quédate con las que te sirvan, omite las que no.' },
        step4: { title: 'Este Correo Te Espera', subtitle: 'Parece que hay un correo esperando tu respuesta. Elige un estilo y te prepararé un borrador.' },
        step5: { title: 'Todo Listo', subtitle: 'Ya ordené todo para ti. ¿Listo para comenzar? O agrega otra cuenta de correo—puedo manejarlas todas.' },
        proc: ['Sincronizando tus correos...', 'Buscando los importantes...', 'Extrayendo tareas...', 'Sugiriendo etiquetas...', 'Verificando respuestas pendientes...'],
        panels: ['Correos Encontrados', 'Tareas', 'Etiquetas Sugeridas'],
        replyPlaceholder: 'Elige un estilo de respuesta',
        quickBtns: ['Suena bien', 'Necesito reprogramar', 'Tengo una pregunta'],
        readyTitle: 'Listo y Hecho',
        readySubtitle: 'Esto es lo que hice por ti',
        stats: ['Correos Sincronizados', 'Tareas Encontradas', 'Etiquetas Creadas', 'Borrador Guardado'],
      }
    };

    // ========== Mock Data ==========
    const mockEmails = [
      { id: 1, sender: 'CEO Office', subject: 'Company All-Hands Meeting Next Week', time: '2h ago', selected: false },
      { id: 2, sender: 'Finance Team', subject: 'Q4 Budget Approval Needed', time: '5h ago', selected: false },
      { id: 3, sender: 'HR Department', subject: 'Benefits Enrollment Deadline', time: '1d ago', selected: true },
      { id: 4, sender: 'Tech Lead', subject: 'Code Review Required - Urgent', time: '1d ago', selected: false },
    ];

    const mockTodos = [
      { id: 1, text: 'Review Q4 budget proposal', done: false },
      { id: 2, text: 'Submit expense report by Friday', done: false },
      { id: 3, text: 'Schedule 1:1 with manager', done: true },
      { id: 4, text: 'Complete security training', done: false },
    ];

    const mockLabels = [
      { id: 1, name: 'Urgent', color: '#EF4A68', desc: 'Time-sensitive emails requiring immediate attention', count: 5, selected: true },
      { id: 2, name: 'Projects', color: '#22A0FB', desc: 'Project updates, discussions, and deliverables', count: 12, selected: true },
      { id: 3, name: 'Finance', color: '#7EBA02', desc: 'Invoices, budgets, and financial reports', count: 8, selected: false },
    ];

    const mockReply = {
      sender: 'Mike Wang',
      subject: 'Re: Project Timeline Confirmation',
      replies: {
        accept: 'Hi Mike,\n\nThanks for the timeline update. The proposed schedule looks good to me, and I\'m on board with moving forward as planned.\n\nLet me know if you need anything from my end.\n\nBest regards',
        reschedule: 'Hi Mike,\n\nThanks for sharing the timeline. I\'ve reviewed it, but I have a conflict with the proposed dates. Would it be possible to push the deadline by a week?\n\nLet me know your thoughts.\n\nBest regards',
        question: 'Hi Mike,\n\nThanks for the update. Before I confirm, I have a few questions:\n\n1. Is the milestone for Phase 2 flexible?\n2. Who will be the point of contact for the deliverables?\n\nLooking forward to your response.\n\nBest regards'
      }
    };

    // ========== State ==========
    const state = {
      step: 0,
      lang: 'en',
      replyGenerated: false,
    };

    // ========== Utils ==========
    const $ = sel => document.querySelector(sel);
    const $$ = sel => document.querySelectorAll(sel);
    const t = key => {
      const keys = key.split('.');
      let val = i18n[state.lang];
      for (const k of keys) val = val?.[k];
      return val || key;
    };

    // ========== Update UI ==========
    function updateI18n() {
      const lang = i18n[state.lang];
      
      for (let i = 0; i <= 4; i++) {
        const step = lang[`step${i}`];
        if (step) {
          $(`#title${i}`).textContent = step.title;
          $(`#subtitle${i}`).textContent = step.subtitle;
        }
      }
      
      lang.proc.forEach((text, i) => {
        $(`#procText${i}`).textContent = text;
      });
      
      $('#panelHeader1').textContent = lang.panels[0];
      $('#panelHeader2').textContent = lang.panels[1];
      $('#panelHeader3').textContent = lang.panels[2];
      
      if (!state.replyGenerated) {
        $('#replyContent').textContent = lang.replyPlaceholder;
        $('#replyContent').classList.add('placeholder');
      }
      $$('.quick-btn').forEach((btn, i) => {
        btn.textContent = lang.quickBtns[i];
      });
      
      $('#completeTitle').textContent = lang.step5.title;
      $('#completeSubtitle').textContent = lang.step5.subtitle;
      $('#btnGoToInbox').textContent = lang.goToInbox;
      $('#btnAddAccount').textContent = lang.addAccount;
      
      updateButtons();
    }

    function updateButtons() {
      const lang = i18n[state.lang];
      const navLinks = $('#navLinks');
      const backBtn = $('#backBtn');
      const skipBtn = $('#skipBtn');
      const nextBtn = $('#nextBtn');
      
      if (state.step === 0) {
        navLinks.style.display = 'none';
        nextBtn.style.display = 'none';
      } else if (state.step >= 1 && state.step <= 4) {
        navLinks.style.display = 'flex';
        backBtn.textContent = lang.back;
        backBtn.style.display = state.step === 1 ? 'none' : 'block';
        $('#navLinks .nav-divider').style.display = state.step === 1 ? 'none' : 'block';
        skipBtn.textContent = lang.skip;
        nextBtn.style.display = 'inline-flex';
        nextBtn.textContent = lang.next;
      } else if (state.step === 5) {
        navLinks.style.display = 'none';
        nextBtn.style.display = 'none';
      }
    }

    function goToStep(n) {
      state.step = n;
      $$('.slide').forEach(s => s.classList.toggle('active', +s.dataset.step === n));
      $$('.info-slide').forEach(s => s.classList.toggle('active', +s.dataset.step === n));
      
      // Toggle processing state for centered layout
      $('.content').classList.toggle('processing', n === 0);
      $('.content').classList.toggle('step5', n === 5);
      
      updateButtons();
      
      if (n === 0) runProcessing();
      if (n === 1) renderEmails();
      if (n === 2) renderTodos();
      if (n === 3) renderLabels();
      if (n === 4) renderReply();
      if (n === 5) launchConfetti();
    }

    // ========== Step 5: Stats Animation ==========
    function animateStats() {
      const statValues = $$('.stat-value[data-target]');
      statValues.forEach(el => {
        const target = parseInt(el.dataset.target);
        const duration = 1500;
        const startTime = performance.now();
        
        function updateCount(currentTime) {
          const elapsed = currentTime - startTime;
          const progress = Math.min(elapsed / duration, 1);
          const easeOut = 1 - Math.pow(1 - progress, 3);
          const currentValue = Math.floor(easeOut * target);
          el.textContent = currentValue;
          
          if (progress < 1) {
            requestAnimationFrame(updateCount);
          } else {
            el.textContent = target;
          }
        }
        requestAnimationFrame(updateCount);
      });
    }

    // ========== Step 0: Processing ==========
    function runProcessing() {
      const steps = ['proc-sync', 'proc-important', 'proc-todos', 'proc-labels', 'proc-reply'];
      let current = 0;
      
      const checkIcon = `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>`;
      
      const interval = setInterval(() => {
        if (current > 0) {
          const prevStep = document.getElementById(steps[current - 1]);
          prevStep.classList.remove('active');
          prevStep.classList.add('done');
          prevStep.querySelector('svg').outerHTML = checkIcon;
        }
        
        if (current < steps.length) {
          const currentStep = document.getElementById(steps[current]);
          currentStep.classList.add('active');
          current++;
        } else {
          clearInterval(interval);
          setTimeout(() => goToStep(1), 1500);
        }
      }, 1200);
    }

    // ========== Step 1: Emails ==========
    function renderEmails() {
      const list = $('#emailList');
      list.innerHTML = mockEmails.map(email => `
        <div class="email-item ${email.selected ? 'selected' : ''}" data-id="${email.id}" onclick="toggleEmail(${email.id})">
          <div class="email-checkbox">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>
          </div>
          <div class="email-avatar">${email.sender[0]}</div>
          <div class="email-info">
            <div class="email-sender">${email.sender}</div>
            <div class="email-subject">${email.subject}</div>
          </div>
          <div class="email-time">${email.time}</div>
        </div>
      `).join('');
    }

    function toggleEmail(id) {
      const email = mockEmails.find(e => e.id === id);
      if (email) {
        email.selected = !email.selected;
        renderEmails();
      }
    }

    // ========== Step 2: Todos ==========
    function renderTodos() {
      const list = $('#todoList');
      const uncheckedIcon = `<svg viewBox="0 0 24 24" fill="none"><path d="M0 12C0 7.32222 0 4.98333 1.07293 3.27578C1.63242 2.38535 2.38535 1.63242 3.27578 1.07293C4.98333 0 7.32222 0 12 0C16.6778 0 19.0167 0 20.7242 1.07293C21.6147 1.63242 22.3676 2.38535 22.9271 3.27578C24 4.98333 24 7.32222 24 12C24 16.6778 24 19.0167 22.9271 20.7242C22.3676 21.6147 21.6147 22.3676 20.7242 22.9271C19.0167 24 16.6778 24 12 24C7.32222 24 4.98333 24 3.27578 22.9271C2.38535 22.3676 1.63242 21.6147 1.07293 20.7242C0 19.0167 0 16.6778 0 12Z" fill="#FCFAFA"/><path d="M22.2002 12C22.2002 9.62578 22.1979 7.97402 22.0742 6.69824C21.9532 5.45021 21.7294 4.75243 21.4033 4.2334C20.9877 3.57194 20.4281 3.0123 19.7666 2.59668C19.2476 2.27058 18.5498 2.04682 17.3018 1.92578C16.026 1.80209 14.3742 1.7998 12 1.7998C9.62578 1.7998 7.97402 1.80209 6.69824 1.92578C5.45021 2.04682 4.75243 2.27058 4.2334 2.59668C3.57194 3.0123 3.0123 3.57194 2.59668 4.2334C2.27058 4.75243 2.04682 5.45021 1.92578 6.69824C1.80209 7.97402 1.7998 9.62578 1.7998 12C1.7998 14.3742 1.80209 16.026 1.92578 17.3018C2.04682 18.5498 2.27058 19.2476 2.59668 19.7666C3.0123 20.4281 3.57194 20.9877 4.2334 21.4033C4.75243 21.7294 5.45021 21.9532 6.69824 22.0742C7.97402 22.1979 9.62578 22.2002 12 22.2002V24C7.32222 24 4.98295 23.9997 3.27539 22.9268C2.49653 22.4373 1.82297 21.7998 1.29199 21.0518L1.07324 20.7246C0.000311494 19.017 0 16.6778 0 12C0 7.61452 -0.00031811 5.2846 0.883789 3.60352L1.07324 3.27539C1.56271 2.49653 2.20021 1.82297 2.94824 1.29199L3.27539 1.07324C4.98295 0.000311494 7.32222 0 12 0C16.6778 0 19.017 0.000311494 20.7246 1.07324C21.6147 1.63262 22.3674 2.38528 22.9268 3.27539C23.9997 4.98295 24 7.32222 24 12C24 16.6778 23.9997 19.017 22.9268 20.7246L22.708 21.0518C22.177 21.7998 21.5035 22.4373 20.7246 22.9268L20.3965 23.1162C18.7154 24.0003 16.3855 24 12 24V22.2002C14.3742 22.2002 16.026 22.1979 17.3018 22.0742C18.5498 21.9532 19.2476 21.7294 19.7666 21.4033C20.4281 20.9877 20.9877 20.4281 21.4033 19.7666C21.7294 19.2476 21.9532 18.5498 22.0742 17.3018C22.1979 16.026 22.2002 14.3742 22.2002 12Z" fill="#D5D5D5"/></svg>`;
      const checkedIcon = `<svg viewBox="0 0 24 24" fill="none"><path d="M0 12C0 7.32222 0 4.98333 1.07293 3.27578C1.63242 2.38535 2.38535 1.63242 3.27578 1.07293C4.98333 0 7.32222 0 12 0C16.6778 0 19.0167 0 20.7242 1.07293C21.6147 1.63242 22.3676 2.38535 22.9271 3.27578C24 4.98333 24 7.32222 24 12C24 16.6778 24 19.0167 22.9271 20.7242C22.3676 21.6147 21.6147 22.3676 20.7242 22.9271C19.0167 24 16.6778 24 12 24C7.32222 24 4.98333 24 3.27578 22.9271C2.38535 22.3676 1.63242 21.6147 1.07293 20.7242C0 19.0167 0 16.6778 0 12Z" fill="#22A0FB"/><path d="M6.0822 12.7664L6.08589 12.7766L6.08997 12.7865C6.15176 12.9376 6.24066 13.0757 6.34406 13.2014L9.53759 17.1964C9.83486 17.5692 10.2367 17.7964 10.7227 17.7964C11.226 17.7964 11.6457 17.5718 11.9274 17.1557L17.7347 8.10495L17.7382 8.09946C17.8167 7.97376 17.8833 7.84198 17.9289 7.70521L17.9311 7.69809C17.9753 7.55939 18 7.41516 18 7.26738C18 6.92846 17.8875 6.60829 17.6337 6.36045C17.384 6.11234 17.0656 6 16.7265 6C16.5045 6 16.2705 6.04302 16.0619 6.17106C15.8664 6.28718 15.716 6.46117 15.598 6.64074L10.6506 14.5007L8.36553 11.5679C8.10551 11.2286 7.74265 11.0165 7.29823 11.0165C6.95171 11.0165 6.63015 11.1327 6.37514 11.3804L6.36955 11.386C6.11855 11.637 6 11.9568 6 12.3023C6 12.4617 6.02796 12.6173 6.0822 12.7664Z" fill="white"/></svg>`;
      
      list.innerHTML = mockTodos.filter(t => !t.removed).map(todo => `
        <div class="todo-item ${todo.done ? 'done' : ''}" data-id="${todo.id}">
          <div class="todo-checkbox" onclick="toggleTodo(${todo.id})">
            ${todo.done ? checkedIcon : uncheckedIcon}
          </div>
          <div class="todo-text">${todo.text}</div>
          <button class="todo-delete" onclick="removeTodo(${todo.id})">
            <svg viewBox="0 0 24 24" fill="none"><path d="M9.1001 10.8999C9.1001 10.4028 9.50293 10 10 10C10.4971 10 10.9001 10.4028 10.9001 10.8999V16.1001C10.9001 16.5972 10.4971 17 10 17C9.50293 17 9.1001 16.5972 9.1001 16.1001V10.8999Z" fill="currentColor"/><path d="M14 10C13.5029 10 13.1001 10.4028 13.1001 10.8999V16.1001C13.1001 16.5972 13.5029 17 14 17C14.4971 17 14.9001 16.5972 14.9001 16.1001V10.8999C14.9001 10.4028 14.4971 10 14 10Z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M21 5H17V3.5C17 2.11938 15.8806 1 14.5 1H9.5C8.11938 1 7 2.11938 7 3.5V5H3C2.44775 5 2 5.44775 2 6C2 6.55225 2.44775 7 3 7H4.1001V19C4.1001 21.1538 5.84619 22.8999 8 22.8999H16C18.1541 22.8999 19.9001 21.1538 19.9001 19V7H21C21.5522 7 22 6.55225 22 6C22 5.44775 21.5522 5 21 5ZM18.1001 7H5.90015V19C5.90015 20.1599 6.84033 21.1001 8 21.1001H16C17.1599 21.1001 18.1001 20.1599 18.1001 19V7ZM9.5 2.80005H14.5C14.8867 2.80005 15.2 3.11328 15.2 3.5V5H8.80005V3.5C8.80005 3.11328 9.11328 2.80005 9.5 2.80005Z" fill="currentColor"/></svg>
          </button>
        </div>
      `).join('');
    }

    function toggleTodo(id) {
      const todo = mockTodos.find(t => t.id === id);
      if (todo) {
        todo.done = !todo.done;
        renderTodos();
      }
    }

    function removeTodo(id) {
      const todo = mockTodos.find(t => t.id === id);
      if (todo) {
        todo.removed = true;
        renderTodos();
      }
    }

    // ========== Step 3: Labels ==========
    function renderLabels() {
      const list = $('#labelList');
      const labelIconSvg = (color) => `<svg viewBox="0 0 24 24" fill="none"><path d="M16.9079 2C17.2376 2 17.511 2.03425 17.7356 2.09394C17.9602 2.15362 18.1766 2.25314 18.3755 2.40085C18.5744 2.54856 18.8016 2.74723 19.0572 2.99702C19.3128 3.24681 20.7518 4.67669 21.002 4.93246C21.2521 5.18821 21.4513 5.42178 21.599 5.62349C21.7468 5.82521 21.8463 6.03802 21.906 6.26244C21.9657 6.48685 21.9999 6.76247 21.9999 7.09763C21.9999 7.43278 21.9999 9.96221 21.9999 10.3203C21.9999 10.6783 21.9994 10.9526 21.9404 11.2243C21.8814 11.4959 21.8215 11.6431 21.7097 11.8976C21.598 12.1521 21.3914 12.6084 21.0475 12.9523C20.5713 13.4285 20.3624 13.5867 20.0951 13.4285C19.8766 13.2992 19.7426 12.7907 19.619 12.4761C19.4953 12.1616 19.2246 11.3694 19.4218 11.2085C19.619 11.0476 19.5664 11.0648 19.6459 10.9853C19.7255 10.9057 19.7792 10.8231 19.8161 10.7379C19.8531 10.6526 19.8766 10.5421 19.8766 10.4058C19.8766 10.2695 19.8766 7.42516 19.8766 7.20923C19.8766 6.99331 19.7994 6.80835 19.6459 6.65492C19.4924 6.50143 17.4966 4.50646 17.3431 4.35304C17.1896 4.19962 17.0021 4.12241 16.7804 4.12238C16.5586 4.12236 13.7153 4.12236 13.5904 4.12238C13.4654 4.12241 13.363 4.14859 13.2834 4.19121C13.2039 4.23383 13.1185 4.29305 13.0277 4.37815C12.9363 4.46375 5.016 12.3778 4.77158 12.6221C4.52715 12.8665 4.40237 13.1172 4.39677 13.3643C4.39116 13.6114 4.51876 13.8585 4.77995 14.114C5.04114 14.3695 9.46672 18.7983 9.89804 19.2293C10.3293 19.6602 10.8448 19.5957 11.1843 19.4125C11.5238 19.2293 12 19.4575 12.4761 19.6189C12.9523 19.7804 13.3207 19.8138 13.4285 20.0951C13.5364 20.3765 13.0694 20.7293 12.7552 20.9852C12.0471 21.5617 11.3735 21.997 10.6486 21.9999C9.92373 22.0028 9.2207 21.6645 8.53272 20.9768C7.84471 20.2891 3.72023 16.1743 3.03238 15.4867C2.34453 14.7992 1.99724 14.0917 2.00002 13.3643C2.00279 12.637 2.34675 11.9349 3.02308 11.2587C3.6994 10.5825 11.2198 3.07392 11.4587 2.83519C11.6974 2.59663 11.9135 2.41786 12.1153 2.29855C12.3171 2.17923 12.5415 2.09931 12.7803 2.05952C13.0191 2.01974 13.3177 2 13.6759 2H16.9079Z" fill="${color}"/><path d="M17.2585 13.754C17.4068 13.3198 18.0216 13.3198 18.1699 13.754L18.6033 15.0254C18.8922 15.8714 19.557 16.5362 20.403 16.8251L21.6744 17.2585C22.1086 17.4068 22.1086 18.0216 21.6744 18.1699L20.403 18.6033C19.557 18.8922 18.8922 19.557 18.6033 20.403L18.1699 21.6744C18.0216 22.1085 17.4068 22.1085 17.2585 21.6744L16.8251 20.403C16.5362 19.557 15.8714 18.8922 15.0254 18.6033L13.754 18.1699C13.3199 18.0216 13.3199 17.4068 13.754 17.2585L15.0254 16.8251C15.8714 16.5362 16.5362 15.8714 16.8251 15.0254L17.2585 13.754Z" fill="${color}"/><path d="M15.7397 6.9358C16.115 6.9358 16.428 7.06416 16.6781 7.31991C16.9338 7.56994 17.0613 7.88241 17.0613 8.2574C17.0613 8.62108 16.9339 8.9308 16.6781 9.18653C16.428 9.44227 16.115 9.57064 15.7397 9.57064C15.3702 9.57061 15.0571 9.44225 14.8013 9.18653C14.5513 8.93082 14.4265 8.62102 14.4265 8.2574C14.4265 7.88246 14.5513 7.56992 14.8013 7.31991C15.0571 7.06418 15.3702 6.93582 15.7397 6.9358Z" fill="${color}"/></svg>`;
      list.innerHTML = mockLabels.map(label => `
        <div class="label-card ${label.selected ? 'selected' : ''}" data-id="${label.id}" onclick="toggleLabel(${label.id})">
          <div class="label-header">
            <div class="label-icon">${labelIconSvg(label.color)}</div>
            <div class="label-name">${label.name}</div>
            <div class="label-count">${label.count} emails</div>
          </div>
          <div class="label-desc">${label.desc}</div>
        </div>
      `).join('');
    }

    function toggleLabel(id) {
      const label = mockLabels.find(l => l.id === id);
      if (label) {
        label.selected = !label.selected;
        renderLabels();
      }
    }

    // ========== Step 4: Reply ==========
    function renderReply() {
      $('#replyAvatar').textContent = mockReply.sender[0];
      $('#replyName').textContent = mockReply.sender;
      $('#replySubject').textContent = mockReply.subject;
      $('#replyContent').textContent = t('replyPlaceholder') || 'Pick a response style below';
      $('#replyContent').classList.add('placeholder');
      state.replyGenerated = false;
      
      $$('.quick-btn').forEach(btn => {
        btn.classList.remove('active');
        btn.onclick = () => generateReply(btn.dataset.reply);
      });
    }

    function launchConfetti() {
      const container = $('#confettiContainer');
      container.innerHTML = '';
      const colors = ['#22A0FB', '#FFD700', '#FF6B6B', '#4ECDC4', '#A78BFA', '#F472B6'];
      for (let i = 0; i < 50; i++) {
        const confetti = document.createElement('div');
        confetti.className = 'confetti';
        confetti.style.left = Math.random() * 100 + '%';
        confetti.style.top = '-10px';
        confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        confetti.style.animationDelay = Math.random() * 0.3 + 's';
        confetti.style.animationDuration = (1 + Math.random() * 1) + 's';
        confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '2px';
        container.appendChild(confetti);
      }
    }

    function generateReply(type) {
      $$('.quick-btn').forEach(btn => btn.classList.toggle('active', btn.dataset.reply === type));
      
      const content = $('#replyContent');
      const replyText = mockReply.replies[type];
      
      content.textContent = '';
      content.classList.remove('placeholder');
      state.replyGenerated = true;
      let i = 0;
      const cursor = document.createElement('span');
      cursor.className = 'typing-cursor';
      
      function typeChar() {
        if (i < replyText.length) {
          content.textContent = replyText.slice(0, i + 1);
          content.appendChild(cursor);
          i++;
          setTimeout(typeChar, 12);
        } else {
          cursor.remove();
        }
      }
      typeChar();
    }

    // ========== Event Bindings ==========
    $('#nextBtn').onclick = () => {
      if (state.step < 5) goToStep(state.step + 1);
      else alert('Welcome to Filo!');
    };

    $('#skipBtn').onclick = () => {
      if (state.step < 5) alert('Welcome to Filo!');
      else alert('Add account clicked');
    };

    $('#backBtn').onclick = () => {
      if (state.step > 1) goToStep(state.step - 1);
    };

    $('#btnGoToInbox').onclick = () => {
      alert('Welcome to Filo!');
    };

    $('#btnAddAccount').onclick = () => {
      alert('Add account clicked');
    };

    // Keyboard navigation
    document.onkeydown = (e) => {
      if (e.key === 'ArrowRight' && state.step < 5 && state.step > 0) goToStep(state.step + 1);
    };

    // ========== Init ==========
    updateI18n();
    runProcessing();
  </script>
</body>
</html>
