<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Filo Design System</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --filo-02: #22A0FB;
            --filo-06: #000000;
            --filo-07: #707070;
            --filo-08: #D5D5D5;
            --filo-09: #FCFAFA;
            --filo-10: #FFFFFF;
            --filo-14: rgba(0, 0, 0, 0.04);
            
            --sidebar-width: 280px;
            --header-height: 52px;
            --font-family: -apple-system, BlinkMacSystemFont, 'SF Pro', system-ui, sans-serif;
        }

        body.dark-mode {
            --filo-02: #45B1FF;
            --filo-06: #FFFFFF;
            --filo-07: #8B8B8B;
            --filo-08: #414149;
            --filo-09: #121214;
            --filo-10: #1D1D21;
            --filo-14: rgba(255, 255, 255, 0.06);
        }

        body {
            font-family: var(--font-family);
            background: var(--filo-09);
            color: var(--filo-06);
            height: 100vh;
            overflow: hidden;
        }

        /* ============================================
           HEADER
           ============================================ */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: var(--header-height);
            background: var(--filo-10);
            border-bottom: 0.5px solid var(--filo-08);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 24px;
            z-index: 100;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .header-logo {
            width: 28px;
            height: 28px;
            border-radius: 6px;
            overflow: hidden;
        }

        .header-logo svg {
            width: 28px;
            height: 28px;
        }

        .header-title {
            font-size: 17px;
            font-weight: 600;
            color: var(--filo-06);
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .mode-toggle {
            display: flex;
            gap: 4px;
            background: var(--filo-14);
            padding: 3px;
            border-radius: 8px;
        }

        .mode-btn {
            padding: 6px 12px;
            border: none;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 500;
            cursor: pointer;
            background: transparent;
            color: var(--filo-07);
            transition: all 0.2s ease;
        }

        .mode-btn.active {
            background: var(--filo-10);
            color: var(--filo-06);
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        /* ============================================
           SIDEBAR
           ============================================ */
        .sidebar {
            position: fixed;
            top: var(--header-height);
            left: 0;
            width: var(--sidebar-width);
            height: calc(100vh - var(--header-height));
            background: var(--filo-10);
            border-right: none;
            padding: 20px 0;
            overflow-y: auto;
            overflow-x: hidden;
            min-width: 60px;
            max-width: 400px;
        }

        .sidebar-section {
            margin-bottom: 24px;
        }

        .sidebar-section-title {
            font-size: 11px;
            font-weight: 600;
            color: var(--filo-07);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            padding: 0 20px;
            margin-bottom: 8px;
            white-space: nowrap;
            overflow: hidden;
        }

        .sidebar-nav {
            list-style: none;
        }

        .sidebar-nav li {
            margin: 2px 8px;
        }

        .sidebar-nav a {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 12px;
            border-radius: 8px;
            text-decoration: none;
            color: var(--filo-06);
            font-size: 14px;
            font-weight: 400;
            transition: background 0.15s ease;
            white-space: nowrap;
            overflow: hidden;
        }

        .sidebar-nav a:hover {
            background: var(--filo-14);
        }

        .sidebar-nav a.active {
            background: var(--filo-02);
            color: white;
        }

        .sidebar-nav a.active .nav-icon {
            color: white;
        }

        .nav-icon {
            width: 18px;
            height: 18px;
            color: var(--filo-07);
            flex-shrink: 0;
        }

        .nav-text {
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* Sidebar Resize Handle */
        .sidebar-resize-handle {
            position: absolute;
            top: 0;
            right: 0;
            width: 4px;
            height: 100%;
            cursor: col-resize;
            background: transparent;
            z-index: 10;
            transition: background 0.15s ease;
        }

        .sidebar-resize-handle:hover,
        .sidebar-resize-handle.dragging {
            background: var(--filo-02);
        }

        .sidebar-resize-handle::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 1px;
            height: 100%;
            background: var(--filo-08);
        }

        body.resizing {
            cursor: col-resize;
            user-select: none;
        }

        body.resizing * {
            cursor: col-resize !important;
        }

        /* ============================================
           MAIN CONTENT
           ============================================ */
        .main-content {
            position: fixed;
            top: var(--header-height);
            left: var(--sidebar-width);
            right: 0;
            bottom: 0;
            background: var(--filo-09);
        }

        .content-iframe {
            width: 100%;
            height: 100%;
            border: none;
        }

        /* Welcome screen */
        .welcome {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            text-align: center;
            padding: 40px;
        }

        .welcome-icon {
            width: 80px;
            height: 80px;
            border-radius: 20px;
            overflow: hidden;
            margin-bottom: 24px;
        }

        .welcome-icon svg {
            width: 80px;
            height: 80px;
        }

        .welcome h1 {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .welcome p {
            font-size: 15px;
            color: var(--filo-07);
            max-width: 400px;
            line-height: 1.5;
        }

        .welcome-hint {
            margin-top: 32px;
            font-size: 13px;
            color: var(--filo-07);
        }

        /* ============================================
           FOOTER LINKS
           ============================================ */
        .sidebar-footer {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 16px 20px;
            border-top: 0.5px solid var(--filo-08);
            background: var(--filo-10);
        }

        .sidebar-footer a {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 13px;
            color: var(--filo-07);
            text-decoration: none;
            transition: color 0.15s ease;
        }

        .sidebar-footer a:hover {
            color: var(--filo-02);
        }

        .sidebar-footer svg {
            width: 14px;
            height: 14px;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-left">
            <div class="header-logo">
                <svg viewBox="0 0 200 200" fill="none">
                    <path d="M146.323 0H53.6769C24.0319 0 0 24.0319 0 53.6769V146.323C0 175.968 24.0319 200 53.6769 200H146.323C175.968 200 200 175.968 200 146.323V53.6769C200 24.0319 175.968 0 146.323 0Z" fill="url(#headerGradient)"/>
                    <g transform="translate(12.5, 28.84)">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M126.348 0C144.473 0.000194164 159.165 14.6935 159.165 32.8187V61.6012C164.304 60.9327 169.529 60.4924 174.794 60.2906C175.105 60.2784 175.202 60.7085 174.92 60.835C169.616 63.2027 164.37 65.6608 159.165 68.2401C136.339 79.4468 114.557 92.4286 93.9912 107.014C87.0144 111.974 80.1834 117.103 73.4984 122.426C67.5765 127.106 61.7567 131.954 56.0634 136.93C55.8227 137.139 55.4699 136.849 55.6304 136.572C59.4226 130.04 63.6384 123.8 68.2718 117.854C65.4761 115.472 62.6557 113.162 59.7629 110.877C46.3197 100.229 31.9522 90.6752 16.8074 82.337C11.3573 79.3519 5.80041 76.5147 0.160728 73.8237C-0.116402 73.69 -0.0119047 73.27 0.296829 73.2846C5.87082 73.5569 11.3816 74.1156 16.8074 74.8984V32.8187C16.8074 14.6934 31.5007 0 49.626 0H126.348ZM115.875 26.2037C113.485 23.8165 109.615 23.8166 107.226 26.2037L80.1275 53.3018L72.2708 45.4451C68.96 42.1343 67.302 40.4759 65.2917 40.184C64.7109 40.0989 64.1174 40.099 63.5365 40.184C61.5261 40.4757 59.87 42.1316 56.5566 45.4451C53.2458 48.7559 51.5881 50.4139 51.2964 52.4242C51.2113 53.0051 51.2113 53.5984 51.2964 54.1793C51.5881 56.1897 53.2433 57.8452 56.5566 61.1584L75.8006 80.4025C78.1878 82.7895 82.0604 82.7896 84.45 80.4025L122.939 41.9179C125.326 39.5307 125.326 35.6582 122.939 33.2685L115.875 26.2037Z" fill="white"/>
                    </g>
                    <defs>
                        <linearGradient id="headerGradient" x1="100" y1="199.351" x2="100.034" y2="0" gradientUnits="userSpaceOnUse">
                            <stop stop-color="#0D93F3"/>
                            <stop offset="0.2" stop-color="#22A0FB"/>
                            <stop offset="1" stop-color="#9DDEFF"/>
                        </linearGradient>
                    </defs>
                </svg>
            </div>
            <span class="header-title">Filo Design System</span>
        </div>
        <div class="header-right">
            <div class="mode-toggle">
                <button class="mode-btn active" onclick="setMode('light')">Light</button>
                <button class="mode-btn" onclick="setMode('dark')">Dark</button>
            </div>
        </div>
    </header>

    <!-- Sidebar -->
    <nav class="sidebar" id="sidebar">
        <div class="sidebar-resize-handle" id="resizeHandle"></div>
        
        <div class="sidebar-section">
            <h3 class="sidebar-section-title">Foundation</h3>
            <ul class="sidebar-nav">
                <li>
                    <a href="#colors" onclick="loadPage('colors.html', this)">
                        <svg class="nav-icon" viewBox="0 0 24 24" fill="none">
                            <circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2"/>
                            <path d="M12 3V12L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        <span class="nav-text">Colors</span>
                    </a>
                </li>
                <li>
                    <a href="#typography" onclick="loadPage('typography.html', this)">
                        <svg class="nav-icon" viewBox="0 0 24 24" fill="none">
                            <path d="M4 7V4H20V7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M12 4V20" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            <path d="M8 20H16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        <span class="nav-text">Typography</span>
                    </a>
                </li>
                <li>
                    <a href="#icons" onclick="loadPage('icons.html', this)">
                        <svg class="nav-icon" viewBox="0 0 24 24" fill="none">
                            <rect x="3" y="3" width="7" height="7" rx="1" stroke="currentColor" stroke-width="2"/>
                            <rect x="14" y="3" width="7" height="7" rx="1" stroke="currentColor" stroke-width="2"/>
                            <rect x="3" y="14" width="7" height="7" rx="1" stroke="currentColor" stroke-width="2"/>
                            <rect x="14" y="14" width="7" height="7" rx="1" stroke="currentColor" stroke-width="2"/>
                        </svg>
                        <span class="nav-text">Icons</span>
                    </a>
                </li>
            </ul>
        </div>

        <div class="sidebar-section">
            <h3 class="sidebar-section-title">Components</h3>
            <ul class="sidebar-nav">
                <li>
                    <a href="#buttons" onclick="loadPage('buttons.html', this)">
                        <svg class="nav-icon" viewBox="0 0 24 24" fill="none">
                            <rect x="3" y="8" width="18" height="8" rx="4" stroke="currentColor" stroke-width="2"/>
                        </svg>
                        <span class="nav-text">Buttons</span>
                    </a>
                </li>
                <li>
                    <a href="#cards" onclick="loadPage('cards.html', this)">
                        <svg class="nav-icon" viewBox="0 0 24 24" fill="none">
                            <rect x="3" y="5" width="18" height="14" rx="2" stroke="currentColor" stroke-width="2"/>
                            <path d="M3 10H21" stroke="currentColor" stroke-width="2"/>
                        </svg>
                        <span class="nav-text">Cards</span>
                    </a>
                </li>
                <li>
                    <a href="#bars" onclick="loadPage('bars.html', this)">
                        <svg class="nav-icon" viewBox="0 0 24 24" fill="none">
                            <rect x="3" y="17" width="18" height="4" rx="1" stroke="currentColor" stroke-width="2"/>
                            <rect x="3" y="3" width="18" height="4" rx="1" stroke="currentColor" stroke-width="2"/>
                        </svg>
                        <span class="nav-text">Bars</span>
                    </a>
                </li>
            </ul>
        </div>

        <div class="sidebar-footer">
            <a href="https://filo-mail.gitbook.io/filo-mail-docs" target="_blank">
                <svg viewBox="0 0 24 24" fill="none">
                    <path d="M18 13V19C18 20.1046 17.1046 21 16 21H5C3.89543 21 3 20.1046 3 19V8C3 6.89543 3.89543 6 5 6H11" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    <path d="M15 3H21V9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M10 14L21 3" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
                <span class="nav-text">Filo Documentation</span>
            </a>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content" id="mainContent">
        <div class="welcome" id="welcome">
            <div class="welcome-icon">
                <svg viewBox="0 0 200 200" fill="none">
                    <path d="M146.323 0H53.6769C24.0319 0 0 24.0319 0 53.6769V146.323C0 175.968 24.0319 200 53.6769 200H146.323C175.968 200 200 175.968 200 146.323V53.6769C200 24.0319 175.968 0 146.323 0Z" fill="url(#welcomeGradient)"/>
                    <g transform="translate(12.5, 28.84)">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M126.348 0C144.473 0.000194164 159.165 14.6935 159.165 32.8187V61.6012C164.304 60.9327 169.529 60.4924 174.794 60.2906C175.105 60.2784 175.202 60.7085 174.92 60.835C169.616 63.2027 164.37 65.6608 159.165 68.2401C136.339 79.4468 114.557 92.4286 93.9912 107.014C87.0144 111.974 80.1834 117.103 73.4984 122.426C67.5765 127.106 61.7567 131.954 56.0634 136.93C55.8227 137.139 55.4699 136.849 55.6304 136.572C59.4226 130.04 63.6384 123.8 68.2718 117.854C65.4761 115.472 62.6557 113.162 59.7629 110.877C46.3197 100.229 31.9522 90.6752 16.8074 82.337C11.3573 79.3519 5.80041 76.5147 0.160728 73.8237C-0.116402 73.69 -0.0119047 73.27 0.296829 73.2846C5.87082 73.5569 11.3816 74.1156 16.8074 74.8984V32.8187C16.8074 14.6934 31.5007 0 49.626 0H126.348ZM115.875 26.2037C113.485 23.8165 109.615 23.8166 107.226 26.2037L80.1275 53.3018L72.2708 45.4451C68.96 42.1343 67.302 40.4759 65.2917 40.184C64.7109 40.0989 64.1174 40.099 63.5365 40.184C61.5261 40.4757 59.87 42.1316 56.5566 45.4451C53.2458 48.7559 51.5881 50.4139 51.2964 52.4242C51.2113 53.0051 51.2113 53.5984 51.2964 54.1793C51.5881 56.1897 53.2433 57.8452 56.5566 61.1584L75.8006 80.4025C78.1878 82.7895 82.0604 82.7896 84.45 80.4025L122.939 41.9179C125.326 39.5307 125.326 35.6582 122.939 33.2685L115.875 26.2037Z" fill="white"/>
                    </g>
                    <defs>
                        <linearGradient id="welcomeGradient" x1="100" y1="199.351" x2="100.034" y2="0" gradientUnits="userSpaceOnUse">
                            <stop stop-color="#0D93F3"/>
                            <stop offset="0.2" stop-color="#22A0FB"/>
                            <stop offset="1" stop-color="#9DDEFF"/>
                        </linearGradient>
                    </defs>
                </svg>
            </div>
            <h1>Filo Design System</h1>
            <p>A comprehensive design system for Filo email client. Browse colors, typography, icons, and components.</p>
            <p class="welcome-hint">Select a category from the sidebar to get started.</p>
        </div>
    </main>

    <script>
        // Store current mode
        let currentMode = 'light';
        
        // Sidebar resize functionality
        let isResizing = false;
        let sidebarWidth = 280;
        
        const sidebar = document.getElementById('sidebar');
        const resizeHandle = document.getElementById('resizeHandle');
        const mainContent = document.getElementById('mainContent');
        
        resizeHandle.addEventListener('mousedown', (e) => {
            isResizing = true;
            document.body.classList.add('resizing');
            resizeHandle.classList.add('dragging');
        });
        
        document.addEventListener('mousemove', (e) => {
            if (!isResizing) return;
            
            const newWidth = e.clientX;
            if (newWidth >= 60 && newWidth <= 400) {
                sidebarWidth = newWidth;
                sidebar.style.width = newWidth + 'px';
                mainContent.style.left = newWidth + 'px';
            }
        });
        
        document.addEventListener('mouseup', () => {
            if (isResizing) {
                isResizing = false;
                document.body.classList.remove('resizing');
                resizeHandle.classList.remove('dragging');
            }
        });
        
        function setMode(mode) {
            currentMode = mode;
            
            // Update main page
            if (mode === 'dark') {
                document.body.classList.add('dark-mode');
            } else {
                document.body.classList.remove('dark-mode');
            }
            
            // Update toggle buttons
            document.querySelectorAll('.mode-btn').forEach(btn => {
                btn.classList.toggle('active', btn.textContent.toLowerCase() === mode);
            });
            
            // Reload iframe with new mode parameter
            const iframe = document.getElementById('contentFrame');
            if (iframe && iframe.src) {
                const baseSrc = iframe.src.split('?')[0];
                iframe.src = baseSrc + '?mode=' + mode;
            }
        }
        
        function syncIframeMode() {
            const iframe = document.getElementById('contentFrame');
            if (iframe && iframe.contentWindow && iframe.contentWindow.document && iframe.contentWindow.document.body) {
                try {
                    if (currentMode === 'dark') {
                        iframe.contentWindow.document.body.classList.add('dark-mode');
                    } else {
                        iframe.contentWindow.document.body.classList.remove('dark-mode');
                    }
                } catch(e) {
                    console.log('Could not sync iframe mode:', e);
                }
            }
        }

        function loadPage(page, element) {
            // Update active state
            document.querySelectorAll('.sidebar-nav a').forEach(a => a.classList.remove('active'));
            element.classList.add('active');
            
            // Hide welcome, show iframe
            document.getElementById('welcome').style.display = 'none';
            
            // Check if iframe exists, create if not
            let iframe = document.getElementById('contentFrame');
            if (!iframe) {
                iframe = document.createElement('iframe');
                iframe.id = 'contentFrame';
                iframe.className = 'content-iframe';
                document.getElementById('mainContent').appendChild(iframe);
            }
            
            // Pass mode via URL parameter
            iframe.src = page + '?mode=' + currentMode;
            iframe.style.display = 'block';
            
            // Also try to sync via JS after load
            iframe.onload = function() {
                syncIframeMode();
            };
            
            return false;
        }

        // Handle hash navigation on load
        window.addEventListener('load', function() {
            const hash = window.location.hash.substring(1);
            if (hash) {
                const link = document.querySelector(`a[href="#${hash}"]`);
                if (link) {
                    link.click();
                }
            }
        });
    </script>
</body>
</html>
